import{r,A as m,u as h,j as e,L as b}from"./index-BKzFXWaZ.js";import{p as l}from"./productService-s70VptLW.js";const u=()=>{const[c,n]=r.useState([]),{user:s}=r.useContext(m),a=h();r.useEffect(()=>{!s||s.role!=="admin"?a("/login"):o()},[s,a]);const o=async()=>{try{const t=await l.getAll();n(t)}catch(t){console.error(t)}},d=async t=>{if(window.confirm("Are you sure?"))try{await l.delete(t),o()}catch(x){alert(x.message)}},i=async()=>{try{const t=await l.create({});a(`/admin/product/${t._id}/edit`)}catch(t){alert(t.message)}};return e.jsx("div",{className:"min-h-screen bg-[#F5F5F7] px-6 py-20 font-sans",children:e.jsxs("div",{className:"max-w-[1200px] mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-black text-black",children:"Admin Dashboard"}),e.jsx("button",{onClick:i,className:"bg-black text-white px-6 py-3 rounded-full font-bold hover:bg-gray-800 transition-colors",children:"+ Create Product"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-bold text-gray-500 uppercase",children:"ID"}),e.jsx("th",{className:"p-4 text-sm font-bold text-gray-500 uppercase",children:"NAME"}),e.jsx("th",{className:"p-4 text-sm font-bold text-gray-500 uppercase",children:"PRICE"}),e.jsx("th",{className:"p-4 text-sm font-bold text-gray-500 uppercase",children:"CATEGORY"}),e.jsx("th",{className:"p-4 text-sm font-bold text-gray-500 uppercase",children:"ACTIONS"})]})}),e.jsx("tbody",{children:c.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50/50 transition-colors",children:[e.jsxs("td",{className:"p-4 font-mono text-xs text-gray-400",children:[t._id.substring(0,10),"..."]}),e.jsx("td",{className:"p-4 font-bold text-black",children:t.title}),e.jsx("td",{className:"p-4 text-black",children:t.price}),e.jsx("td",{className:"p-4 text-gray-500 text-sm bg-gray-100 rounded-full inline-block mt-2 px-3 py-1 mx-4 w-auto",children:t.category}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{to:`/admin/product/${t._id}/edit`,className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-lg text-xs font-bold hover:bg-blue-100 transition-colors",children:"EDIT"}),e.jsx("button",{onClick:()=>d(t._id),className:"bg-red-50 text-red-600 px-3 py-1 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors",children:"DELETE"})]})})]},t._id))})]})})]})})};export{u as default};
